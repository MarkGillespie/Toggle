<!DOCTYPE html>
<html lang="en-us">
    <head>
        <meta charset="UTF-8">
        <title>Toggle</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href='//fonts.googleapis.com/css?family=Carrois%20Gothic:400' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" type="text/css" href="stylesheets/style.css" media="screen">
        <script type="text/javascript">
         /* When the user clicks on the button,
            toggle between hiding and showing the dropdown content */
         function doDropdown() {
             document.getElementById("style-menu").classList.toggle("show");
             document.getElementById("style-menu").classList.toggle("selected");
         }

         function setStyle(style) {
             console.log(style);
             document.body.classList.remove("lightmode");
             document.body.classList.remove("darkmode");
             document.body.classList.add(style);
         }

         // Close the dropdown if the user clicks outside of it
         window.onclick = function (event) {
             if (
                 !event.target.matches(".dropbtn") &&
                 !event.target.matches("#style-menu button")
             ) {
                 document.getElementById("style-menu").classList.remove("show");
                 document.getElementById("style-menu").classList.remove("selected");
             }
         };

         function newBoard() {
             let xhttp = new XMLHttpRequest();
             xhttp.onload = function () {
                 console.log(this.response);
                 // boardData = JSON.parse(this.response);
                 // render();
                 // document.getElementById("Spinner").style.display = "none";
             };
             xhttp.open("POST", "NewBoard.php", true);
             let params = "board=" + board;
             //Send the proper header information along with the request
             xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
             xhttp.send(params);
             // document.getElementById("Spinner").style.display = "inline-block";
         }

         function fetchBoard() {
             let xhttp = new XMLHttpRequest();
             xhttp.onload = function () {
                 console.log(this.response);
                 // boardData = JSON.parse(this.response);
                 // render();
                 // document.getElementById("Spinner").style.display = "none";
             };
             xhttp.open("GET", "NewBoard.php", true);
             xhttp.send();
             // document.getElementById("Spinner").style.display = "inline-block";
         }
        </script>
    </head>
    <body>

        <div id="menu">
            <button id="new-board">New Board</button>
            <button class="dropbtn navbar_item" onclick="doDropdown()">Style</button>
            <div id="style-menu">
            <ul>
                <li><button onclick="setStyle('lightmode');">Light Mode</button></li>
                <li><button onclick="setStyle('darkmode');">Dark Mode</button></li>
            </ul>
            </div>
        </div>

        <div id="three-view" ></div>
        <div class="title">
            <span>T</span><span>O</span><span>G</span><span>G</span><span>L</span><span>E</span>
        </div>
        <input type="text" id="guess-word">
        <div id='info-panel'>
            <div id="percentage"></div>
            <div id="found-words"></div>
        </div>

        <!-- The core Firebase JS SDK is always required and must be listed first -->
        <script src="https://www.gstatic.com/firebasejs/8.2.9/firebase-app.js"></script>

        <script src="https://www.gstatic.com/firebasejs/8.2.9/firebase-database.js"></script>
        <!-- TODO: Add SDKs for Firebase products that you want to use
             https://firebase.google.com/docs/web/setup#available-libraries -->

        <script>
            var firebaseConfig = {
                apiKey: "AIzaSyArl01Xz0ZEWKsTGAZ425PNHuyibphqHIs",
                authDomain: "toggle-456ab.firebaseapp.com",
                databaseURL: "https://toggle-456ab-default-rtdb.firebaseio.com",
                projectId: "toggle-456ab",
                storageBucket: "toggle-456ab.appspot.com",
                messagingSenderId: "203386934021",
                appId: "1:203386934021:web:32ab5f45fa02bdb9da5d6c"
            };
            // Initialize Firebase
            firebase.initializeApp(firebaseConfig);

            var database = firebase.database();
        </script>

        <script src="toggle.js" type="module"></script>
    </body>
</html>
